{% extends "base.html" %}
{% load static %}
{% block extra_css %}
<style>
  .navbar { transform: translateY(0%); pointer-events: auto; }
  .btn.icon { display:inline-flex; align-items:center; gap:.5rem; }
  .icon-link { width:1em; height:1em; display:inline-block; background: currentColor; mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M3.9 12a5 5 0 0 1 1.46-3.54l2.12-2.12a5 5 0 0 1 7.07 7.07l-.7.7a1 1 0 1 1-1.41-1.41l.7-.7a3 3 0 1 0-4.24-4.24L6.49 9.31A3 3 0 1 0 10 13a1 1 0 1 1 1.99.2A5 5 0 0 1 3.9 12Zm8.05 0a5 5 0 0 1 1.46-3.54l.7-.7a1 1 0 0 1 1.41 1.41l-.7.7a3 3 0 0 0 4.24 4.24l2.12-2.12a3 3 0 0 0-4.24-4.24l-.7.7a1 1 0 0 1-1.41-1.41l.7-.7a5 5 0 1 1 7.07 7.07l-2.12 2.12a5 5 0 0 1-7.07-7.07l.7-.7"/></svg>') center / contain no-repeat; }
</style>

<link rel="stylesheet" href="{% static 'webapp/css/project.css' %}">
{% endblock %}

{% block content %}
<section class="project-hero">
  <div class="project-hero-inner">
    <h1>Dividend Prediction with LSTM</h1>
    <p class="project-subtitle">
      Forecasting future dividends using a sequence model (LSTM) on historical market data.
      Built with a clean data pipeline, reliable modeling, and an interactive Tableau dashboard.
    </p>

    <div class="project-meta">
      <span class="chip">Role: Data Scientist</span>
      <span class="chip">Stack: Python, pandas, NumPy, TensorFlow/Keras</span>
      <span class="chip">Source: yfinance</span>
      <span class="chip">Task: Time-series regression</span>
    </div>

    <div class="project-links">
      <a class="btn" href="{% url 'index' %}#portfolio">← Back to Portfolio</a>
      <a class="btn" href="https://www.kaggle.com/code/jseo079/dividend-prediction-with-lstm" target="_blank" rel="noopener">
        View Kaggle Notebook
      </a>
      <a class="btn icon" href="https://public.tableau.com/views/etf-analysis/Dashboard1?:language=en-US&:sid=&:redirect=auth&:display_count=n&:origin=viz_share_link" target="_blank" rel="noopener">
        <span class="icon-link" aria-hidden="true"></span> Tableau Dashboard
      </a>
    </div>
  </div>
</section>

<section class="project-body section">
  <div class="project-columns">
    <!-- LEFT -->
    <div class="project-col">
      <h2>Data Pipeline</h2>
      <ul class="clean-list">
        <li>Fetched price/dividend data via <code>yfinance</code> and unified it to a consistent datetime index.</li>
        <li>Handled missing values and ensured sorted, aligned series per ticker.</li>
        <li>Prepared supervised sequences with a look-back window → next dividend format.</li>
        <li>Split data by time (train, validation, test) to prevent leakage.</li>
      </ul>

      <h2>LSTM Model</h2>
      <ul class="checklist">
        <li>Implemented an LSTM in Keras to predict future dividends.</li>
        <li>Tuned hyperparameters with Adam optimizer and early stopping.</li>
        <li>Evaluated predictions on held-out time segments with clear visualizations.</li>
      </ul>
    </div>

    <!-- RIGHT -->
    <div class="project-col">
      <h2>Deployment</h2>
      <p>
        The trained model was deployed for reuse within my data pipeline, enabling reproducible inference and integration into visualizations.
      </p>

      <h2>Tableau Dashboard</h2>
      <ul class="feature-list">
        <li>Interactive ticker selection to explore multiple ETFs/stocks.</li>
        <li>KPIs: latest predicted dividend, year-over-year change, trailing 12-month totals.</li>
        <li>Timeline view overlaying historical and LSTM-predicted dividends.</li>
        <li>Dynamic filters and tooltips for exploring results.</li>
        <li>Export option for downloading filtered datasets.</li>
      </ul>

      <div class="project-links" style="margin-top:12px;">
        <a class="btn icon" href="https://public.tableau.com/app/profile/yourlink" target="_blank" rel="noopener">
          <span class="icon-link" aria-hidden="true"></span> Open Tableau Dashboard
        </a>
      </div>
    </div>
  </div>

  <h2 class="gallery-title">Screenshots</h2>
  <div class="project-gallery">
    <figure class="shot">
      <img src="{% static 'webapp/images/lstm.png' %}" alt="LSTM predictions vs actual dividends">
      <figcaption>Predictions vs. actual dividends over time</figcaption>
    </figure>
    <figure class="shot">
      <img src="{% static 'webapp/images/tableau-capture.png' %}" alt="Tableau Dashboard">
      <figcaption>Tableau Dashboard</figcaption>
    </figure>
    <!-- Add a Tableau screenshot if available -->
  </div>
</section>
{% endblock %}

{% block extra_js %}{% endblock %}
